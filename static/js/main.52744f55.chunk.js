(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),s=r(7),a=r.n(s),o=(r(15),r(1)),l=r(2),c=r(4),u=r(3),p=r(5),d=(r(16),r(8)),f=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.diskType,r=e.selected,n=e.forceJump,s="r"===t?"#a5320b":"black";return i.a.createElement("span",{style:{width:"70px",height:"70px",padding:"0",borderRadius:"50%",margin:0,background:s,display:"inline-block",visibility:"e"===t?"hidden":"visible",lineHeight:0,boxShadow:"1px 1px 5px "+(r?"#35d650":n?"#efef51":"white")}})}}]),t}(i.a.Component),v=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleCellClick=function(){var e=r.props,t=e.cell,n=e.moveStarted,i=e.finishMove,s=e.currentTurn,a=e.forceJump,o=e.forceJumpList;"r"!==t.type&&(n&&t.possibleMove?i(t.x,t.y):s===t.diskType&&(a&&o&&o.length&&0===o.filter(function(e){return e.x===t.x&&e.y===t.y}).length||r.props.moveStart(t.x,t.y)))},r.state={selected:!1},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cell,r=e.forceJump,n=e.forceJumpList,s=t.possibleMove?"#35d650":"r"===t.cellType?"#b76464":"#4c4a4a",a=r&&n.filter(function(e){return e.x===t.x&&e.y===t.y}).length>0;return i.a.createElement("div",{onClick:"r"===t.cellType?function(){}:this.handleCellClick,style:{width:"70px",height:"70px",padding:"5px",margin:0,background:s,display:"inline-block",lineHeight:0}},i.a.createElement(f,{selected:t.selected,diskType:t.diskType,forceJump:a}))}}]),t}(i.a.Component),h=function(e){return e>0?e:-e},b=function(e){function t(e){var r;Object(o.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=r.props.finishMove;r.initialBoardConfiguration(),e("b")},r.componentWillReceiveProps=function(e){var t=r.props.restartFinished;!0===e.restartRequired&&(r.initialBoardConfiguration(),t())},r.place12DisksOnBoard=function(e,t){for(var r="r"===t?4:5,n="r"===t?1:-1,i="r"===t?1:8;i!==r;i+=n)for(var s=1;s<=8;s++){var a=e[i][s];"r"!==a.cellType&&(a.diskType=t)}},r.initialBoardConfiguration=function(){for(var e=r.state.gridMap,t=1;t<=8;t++)for(var n=1;n<=8;n++)e[t][n]={x:t,y:n,cellType:r.getCellType(t,n),diskType:"e"};r.place12DisksOnBoard(e,"r"),r.place12DisksOnBoard(e,"b"),r.setState({gridMap:e,currentTurn:"b",selectedCellList:[],possibleMoveList:[],moveStarted:!1,forceJump:!1,forceJumpList:[]})},r.moveStart=function(e,t){var n=r.state,i=n.gridMap;n.selectedCellList.forEach(function(e){i[e.x][e.y].selected=!1}),i[e][t].selected=!0;var s=r.findPossibleJump(i,e,t),a=s&&s.length?s:r.findPossibleMove(i,e,t);r.state.possibleMoveList.forEach(function(e){i[e.x][e.y].possibleMove=!1}),a.forEach(function(e){i[e.x][e.y].possibleMove=!0}),r.setState({gridMap:i,selectedCellList:[{x:e,y:t}],possibleMoveList:a,moveStarted:!0})},r.finishMove=function(e,t){var n=r.state,i=n.gridMap,s=n.selectedCellList,a=n.possibleMoveList,o=n.currentTurn,l=r.props,c=l.setWinner,u=l.finishMove,p=s[0];i[e][t].diskType=i[p.x][p.y].diskType,i[p.x][p.y].diskType="e",r.clearPossibleMoves(i,a),r.clearSelectedList(i,s);var f=r.isJumpMove(p,{x:e,y:t});f&&(i[f.x][f.y].diskType="e");var v=r.findPossibleJump(i,e,t),h={};if(f&&v&&v.length)h={possibleMoveList:v,forceJump:!0,moveStarted:!0,currentTurn:o,selectedCellList:[{x:e,y:t}],forceJumpList:[{x:e,y:t}]},v.forEach(function(e){i[e.x][e.y].possibleMove=!0}),i[e][t].selected=!0;else{var b=r.allPossibleJumpMoveListForCurrentPlayer(i,"b"===o?"r":"b"),y=r.allPossibleMoveListForCurrentPlayer(i,"b"===o?"r":"b");b.length?(h={forceJump:!0,forceJumpList:b},u("b"===o?"r":"b")):0===y.length?c(o):u("b"===o?"r":"b")}r.setState(Object(d.a)({gridMap:i,selectedCellList:[],possibleMoveList:[],forceJumpList:[],moveStarted:!1,forceJump:!1,currentTurn:"b"===o?"r":"b"},h))},r.allPossibleJumpMoveListForCurrentPlayer=function(e,t){for(var n=[],i=1;i<=8;i++)for(var s=1;s<=8;s++){e[i][s].diskType===t&&r.findPossibleJump(e,i,s).length&&n.push({x:i,y:s})}return n},r.allPossibleMoveListForCurrentPlayer=function(e,t){for(var n=[],i=1;i<=8;i++)for(var s=1;s<=8;s++){e[i][s].diskType===t&&r.findPossibleMove(e,i,s).length&&n.push({x:i,y:s})}return n},r.isJumpMove=function(e,t){return 2===h(e.x-t.x)?{x:(e.x+t.x)/2,y:(e.y+t.y)/2}:null},r.clearPossibleMoves=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){e[t.x][t.y].possibleMove=!1}),e},r.clearSelectedList=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){e[t.x][t.y].selected=!1}),e},r.findPossibleMove=function(e,t,n){var i=[],s="r"===e[t][n].diskType?1:-1;return r.validCell(t+s,n+1)&&"e"===e[t+s][n+1].diskType&&i.push({x:t+s,y:n+1}),r.validCell(t+s,n-1)&&"e"===e[t+s][n-1].diskType&&i.push({x:t+s,y:n-1}),i},r.findPossibleJump=function(e,t,n){var i=[],s=e[t][n],a="r"===s.diskType?"b":"r",o="r"===s.diskType?1:-1;return r.validCell(t+o,n+1)&&e[t+o][n+1].diskType===a&&r.validCell(t+2*o,n+2)&&"e"===e[t+2*o][n+2].diskType&&i.push({x:t+o+o,y:n+2}),r.validCell(t+o,n-1)&&e[t+o][n-1].diskType===a&&r.validCell(t+2*o,n-2)&&"e"===e[t+2*o][n-2].diskType&&i.push({x:t+o+o,y:n-2}),i},r.validCell=function(e,t){return e>0&&e<=8&&t>0&&t<=8},r.getCellType=function(e,t){return e%2===t%2?"r":"b"},r.generateCells=function(){for(var e=r.state,t=e.gridMap,n=e.moveStarted,s=e.currentTurn,a=e.forceJumpList,o=e.forceJump,l=[],c=1;c<=8;c++)for(var u=1;u<=8;u++){var p=t[c][u];l.push(i.a.createElement(v,{moveStart:r.moveStart,key:8*c+u,moveStarted:n,finishMove:r.finishMove,currentTurn:s,forceJump:o,forceJumpList:a,cell:p}))}return l};for(var n=[],s=1;s<=8;s++){n[s]={};for(var a=1;a<=8;a++)n[s][a]={x:s,y:a,cellType:r.getCellType(s,a),diskType:"e"}}return r.state={gridMap:n,currentTurn:"b",selectedCellList:[],possibleMoveList:[],moveStarted:!1,forceJump:!1,forceJumpList:[]},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{width:"640px",height:"640px",padding:"5px",margin:0,display:"inline-block",lineHeight:"0",cursor:"pointer"}},this.generateCells())}}]),t}(i.a.Component),y=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.restartGame,r=e.currentTurn,n=e.winner;return i.a.createElement("div",{style:{width:"640px",height:"50px",padding:"5px",margin:"0",lineHeight:"50px",textAlign:"center"}},i.a.createElement("button",{className:"restartButton",onClick:t},"Restart Game"),i.a.createElement("span",{className:"message"}," ",n?"b"===n?"Black wins":"Red wins":r?"b"===r?"Black's turn":"Red's turn":""))}}]),t}(i.a.Component),m=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).restartGame=function(){(r.state.winner||window.confirm("Do you want to restart?"))&&r.setState({restartRequired:!0,currentTurn:"null",winner:null})},r.restartFinished=function(){r.setState({restartRequired:!1,currentTurn:"b"})},r.setWinner=function(e){r.setState({winner:e,currentTurn:null})},r.finishMove=function(e){r.setState({currentTurn:e})},r.state={restartRequired:!1,currentTurn:null,winner:null},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.restartRequired,r=e.winner,n=e.currentTurn;return i.a.createElement("div",{className:"App",style:{width:650,margin:"10px auto"}},i.a.createElement(y,{restartGame:this.restartGame,winner:r,currentTurn:n}),i.a.createElement(b,{restartRequired:t,restartFinished:this.restartFinished,setWinner:this.setWinner,finishMove:this.finishMove}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,r){e.exports=r(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.52744f55.chunk.js.map